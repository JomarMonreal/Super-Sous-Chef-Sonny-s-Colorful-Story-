[gd_scene load_steps=54 format=3 uid="uid://ce0unrlovwwyi"]

[ext_resource type="Script" uid="uid://bi3gflgcsroe4" path="res://Objects/Chef/chef.gd" id="1_bh4l4"]
[ext_resource type="Script" uid="uid://b2p5g7u0f5l02" path="res://Objects/Chef/chef_state_manager.gd" id="1_lp5fg"]
[ext_resource type="Script" uid="uid://c3xdbbuxx3krw" path="res://Base/side_scolling_movement.gd" id="2_akdlw"]
[ext_resource type="Script" uid="uid://csy5mdgalkyym" path="res://Base/health_controller.gd" id="3_16lfa"]
[ext_resource type="PackedScene" uid="uid://drrdy0ylpjttb" path="res://Base/Scenes/dash_controller.tscn" id="4_16lfa"]
[ext_resource type="Script" uid="uid://o5vhtbu5u4ws" path="res://Objects/Chef/States/chef_idle.gd" id="4_akdlw"]
[ext_resource type="Texture2D" uid="uid://c5nsh2dd3ku6j" path="res://Objects/Chef/Sprites/DashV2/tile000.png" id="4_fby8n"]
[ext_resource type="Texture2D" uid="uid://8qwx0m6u163g" path="res://Objects/Chef/Sprites/Idle/tile000.png" id="4_ubuq4"]
[ext_resource type="Shader" uid="uid://xbfpfo5rcvvl" path="res://Objects/Chef/Chef.gdshader" id="5_6dtab"]
[ext_resource type="Texture2D" uid="uid://ttvljl2a7t3i" path="res://Objects/Chef/Sprites/Idle/tile001.png" id="5_igld8"]
[ext_resource type="Texture2D" uid="uid://doml1gqlnrmkm" path="res://Objects/Chef/Sprites/DashV2/tile001.png" id="5_nmfgp"]
[ext_resource type="Texture2D" uid="uid://djqkkjyii1iie" path="res://Objects/Chef/Sprites/Idle/tile002.png" id="6_0vyea"]
[ext_resource type="Texture2D" uid="uid://cqdo0dl7fiukb" path="res://Objects/Chef/Sprites/DashV2/tile002.png" id="6_6oj22"]
[ext_resource type="Script" uid="uid://bnm2fcuaw7xa2" path="res://Objects/Chef/States/chef_move.gd" id="6_7gnl4"]
[ext_resource type="Texture2D" uid="uid://di0nn5gc6wt2w" path="res://Objects/Chef/Sprites/DashV2/tile003.png" id="7_0djbx"]
[ext_resource type="Texture2D" uid="uid://hjp1edfld742" path="res://Objects/Chef/Sprites/Idle/tile003.png" id="7_6ejpl"]
[ext_resource type="Script" uid="uid://dpnog1gvekj11" path="res://Objects/Chef/States/chef_dashing.gd" id="7_akdlw"]
[ext_resource type="Texture2D" uid="uid://bcaga0i8wfegq" path="res://Objects/Chef/Sprites/Idle/tile004.png" id="8_pex6l"]
[ext_resource type="Texture2D" uid="uid://so26dj11gou8" path="res://Objects/Chef/Sprites/Falling/tile000.png" id="9_6x0xk"]
[ext_resource type="Texture2D" uid="uid://74lohpcuv223" path="res://Objects/Chef/Sprites/Idle/tile005.png" id="9_yscw8"]
[ext_resource type="Texture2D" uid="uid://bgi7xote3wx8p" path="res://Objects/Chef/Sprites/Falling/tile001.png" id="10_16lfa"]
[ext_resource type="Texture2D" uid="uid://cwq5d3nuwpyxc" path="res://Objects/Chef/Sprites/Walk/tile000.png" id="10_myb8i"]
[ext_resource type="Texture2D" uid="uid://c71yf1qbndrf" path="res://Objects/Chef/Sprites/DashV2/tile007.png" id="11_6x0xk"]
[ext_resource type="Texture2D" uid="uid://dlxe5f3xiv6wt" path="res://Objects/Chef/Sprites/Falling/tile002.png" id="11_cvesq"]
[ext_resource type="Texture2D" uid="uid://dtuh38hlesm3w" path="res://Objects/Chef/Sprites/Dead/tile000.png" id="11_fa82u"]
[ext_resource type="Texture2D" uid="uid://drfluc34gt31a" path="res://Objects/Chef/Sprites/Walk/tile001.png" id="11_yjrt3"]
[ext_resource type="Texture2D" uid="uid://csvqcfr4f1rir" path="res://Objects/Chef/Sprites/Falling/tile003.png" id="12_3n1bv"]
[ext_resource type="Texture2D" uid="uid://cr5qjdbavel0j" path="res://Objects/Chef/Sprites/Dead/tile001.png" id="12_gn3ia"]
[ext_resource type="Texture2D" uid="uid://clj3maw1sb2s3" path="res://Objects/Chef/Sprites/Walk/tile002.png" id="12_nu8pr"]
[ext_resource type="Texture2D" uid="uid://ux4hyefdtyj7" path="res://Objects/Chef/Sprites/Dead/tile002.png" id="13_2hvyt"]
[ext_resource type="Texture2D" uid="uid://bcdwcdyy5bu3j" path="res://Objects/Chef/Sprites/Walk/tile003.png" id="13_e3vyr"]
[ext_resource type="Texture2D" uid="uid://ccga0fnlvd6ip" path="res://Objects/Chef/Sprites/Dead/tile003.png" id="14_4g66w"]
[ext_resource type="Texture2D" uid="uid://cm5b7p85p1gny" path="res://Objects/Chef/Sprites/Walk/tile004.png" id="14_vlq3j"]
[ext_resource type="Texture2D" uid="uid://b1fjnjic7odq5" path="res://Objects/Chef/Sprites/Walk/tile005.png" id="15_1ht0x"]
[ext_resource type="Texture2D" uid="uid://c25k1lfysjnq6" path="res://Objects/Chef/Sprites/Jumping/tile000.png" id="15_6oj22"]
[ext_resource type="Texture2D" uid="uid://cwupgblga7hmv" path="res://Objects/Chef/Sprites/Dead/tile004.png" id="15_mxofw"]
[ext_resource type="Texture2D" uid="uid://dxjcanf0df5m6" path="res://Objects/Chef/Sprites/Jumping/tile001.png" id="16_0djbx"]
[ext_resource type="Texture2D" uid="uid://cw6s0erqo8013" path="res://Objects/Chef/Sprites/Dead/tile005.png" id="16_0w5aj"]
[ext_resource type="Texture2D" uid="uid://bl4o3qy55c5sk" path="res://Objects/Chef/Sprites/Walk/tile006.png" id="16_uxhdq"]
[ext_resource type="Texture2D" uid="uid://bgsetgmhqps0r" path="res://Objects/Chef/Sprites/Dead/tile006.png" id="17_6x55e"]
[ext_resource type="Texture2D" uid="uid://byah37dumlpv0" path="res://Objects/Chef/Sprites/Jumping/tile002.png" id="17_djgt7"]
[ext_resource type="Texture2D" uid="uid://dd0606atgonn1" path="res://Objects/Chef/Sprites/Walk/tile007.png" id="17_qdofp"]
[ext_resource type="Texture2D" uid="uid://bpxr1nq588h1g" path="res://Objects/Chef/Sprites/Jumping/tile003.png" id="18_81q7c"]
[ext_resource type="Texture2D" uid="uid://bw5p2rh8gtk6r" path="res://Objects/Chef/Sprites/Dead/tile007.png" id="18_kp4df"]
[ext_resource type="Script" uid="uid://djgcf5ceh1vpd" path="res://Objects/Chef/States/chef_jumping.gd" id="31_g0qw0"]
[ext_resource type="Script" uid="uid://dj2j8l0a87bl4" path="res://Objects/Chef/States/chef_falling.gd" id="32_0djbx"]
[ext_resource type="Script" uid="uid://dfy0ueh6dkoii" path="res://Objects/Chef/States/chef_hurt.gd" id="40_6dtab"]
[ext_resource type="PackedScene" uid="uid://12r0f6rnk5je" path="res://Base/Scenes/color_component.tscn" id="40_bpugb"]
[ext_resource type="Script" uid="uid://g548ap058on1" path="res://Objects/Chef/States/chef_dead.gd" id="41_1d1m7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjrt3"]
shader = ExtResource("5_6dtab")
shader_parameter/tint_color = 0
shader_parameter/strength = 0.5
shader_parameter/tolerance = 0.01

[sub_resource type="SpriteFrames" id="SpriteFrames_v6i6m"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_6oj22")
}, {
"duration": 1.0,
"texture": ExtResource("7_0djbx")
}, {
"duration": 1.0,
"texture": ExtResource("7_0djbx")
}, {
"duration": 1.0,
"texture": ExtResource("7_0djbx")
}, {
"duration": 1.0,
"texture": ExtResource("11_6x0xk")
}, {
"duration": 1.0,
"texture": ExtResource("5_nmfgp")
}, {
"duration": 1.0,
"texture": ExtResource("4_fby8n")
}],
"loop": false,
"name": &"Dash",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_fa82u")
}, {
"duration": 1.0,
"texture": ExtResource("11_fa82u")
}, {
"duration": 1.0,
"texture": ExtResource("12_gn3ia")
}, {
"duration": 1.0,
"texture": ExtResource("12_gn3ia")
}, {
"duration": 1.0,
"texture": ExtResource("13_2hvyt")
}, {
"duration": 1.0,
"texture": ExtResource("13_2hvyt")
}, {
"duration": 1.0,
"texture": ExtResource("14_4g66w")
}, {
"duration": 1.0,
"texture": ExtResource("15_mxofw")
}, {
"duration": 1.0,
"texture": ExtResource("14_4g66w")
}, {
"duration": 1.0,
"texture": ExtResource("15_mxofw")
}, {
"duration": 1.0,
"texture": ExtResource("16_0w5aj")
}, {
"duration": 1.0,
"texture": ExtResource("16_0w5aj")
}, {
"duration": 1.0,
"texture": ExtResource("17_6x55e")
}, {
"duration": 1.0,
"texture": ExtResource("17_6x55e")
}, {
"duration": 1.0,
"texture": ExtResource("18_kp4df")
}, {
"duration": 1.0,
"texture": ExtResource("18_kp4df")
}],
"loop": false,
"name": &"Dead",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_6x0xk")
}, {
"duration": 1.0,
"texture": ExtResource("10_16lfa")
}, {
"duration": 1.0,
"texture": ExtResource("11_cvesq")
}, {
"duration": 1.0,
"texture": ExtResource("12_3n1bv")
}],
"loop": true,
"name": &"Falling",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_ubuq4")
}, {
"duration": 1.0,
"texture": ExtResource("5_igld8")
}, {
"duration": 1.0,
"texture": ExtResource("6_0vyea")
}, {
"duration": 1.0,
"texture": ExtResource("7_6ejpl")
}, {
"duration": 1.0,
"texture": ExtResource("8_pex6l")
}, {
"duration": 1.0,
"texture": ExtResource("9_yscw8")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_6oj22")
}, {
"duration": 1.0,
"texture": ExtResource("15_6oj22")
}, {
"duration": 1.0,
"texture": ExtResource("16_0djbx")
}, {
"duration": 1.0,
"texture": ExtResource("16_0djbx")
}, {
"duration": 1.0,
"texture": ExtResource("17_djgt7")
}, {
"duration": 1.0,
"texture": ExtResource("17_djgt7")
}, {
"duration": 1.0,
"texture": ExtResource("18_81q7c")
}, {
"duration": 1.0,
"texture": ExtResource("18_81q7c")
}],
"loop": false,
"name": &"Jumping",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_myb8i")
}, {
"duration": 1.0,
"texture": ExtResource("11_yjrt3")
}, {
"duration": 1.0,
"texture": ExtResource("12_nu8pr")
}, {
"duration": 1.0,
"texture": ExtResource("13_e3vyr")
}, {
"duration": 1.0,
"texture": ExtResource("14_vlq3j")
}, {
"duration": 1.0,
"texture": ExtResource("15_1ht0x")
}, {
"duration": 1.0,
"texture": ExtResource("16_uxhdq")
}, {
"duration": 1.0,
"texture": ExtResource("17_qdofp")
}],
"loop": true,
"name": &"Walk",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_3n1bv"]
radius = 3.0
height = 22.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_pgac2"]
radius = 0.51546395
height = 5.1546392

[node name="Chef" type="CharacterBody2D"]
z_index = 1
position = Vector2(-1, -1)
script = ExtResource("1_bh4l4")

[node name="SideScrollingMovement" type="Node" parent="."]
script = ExtResource("2_akdlw")
GRAVITY = 1000.0
JUMP_HOLD_GRAVITY_SCALE = 0.25
JUMP_VELOCITY = -200.0
MAX_JUMP_HOLD_TIME = 0.35
SPEED = 100.0
visual_path = NodePath("../AnimatedSprite2D")
metadata/_custom_type_script = "uid://c3xdbbuxx3krw"

[node name="HealthController" type="Node2D" parent="."]
script = ExtResource("3_16lfa")
health = 3

[node name="HurtCooldownTimer" type="Timer" parent="HealthController"]

[node name="DashController" parent="." instance=ExtResource("4_16lfa")]
dash_distance = 80.0
dash_cooldown = 1.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_yjrt3")
sprite_frames = SubResource("SpriteFrames_v6i6m")
animation = &"Dead"
autoplay = "Idle"
speed_scale = 4.0

[node name="ColorComponent" parent="AnimatedSprite2D" instance=ExtResource("40_bpugb")]

[node name="Hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(0, 1)
shape = SubResource("CapsuleShape2D_3n1bv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-2.861023e-06, 2)
scale = Vector2(3.88, 3.88)
shape = SubResource("CapsuleShape2D_pgac2")

[node name="ChefStateManager" type="Node" parent="."]
script = ExtResource("1_lp5fg")
metadata/_custom_type_script = "uid://otglw13nao5r"

[node name="Idle" type="Node" parent="ChefStateManager"]
script = ExtResource("4_akdlw")

[node name="Moving" type="Node" parent="ChefStateManager"]
script = ExtResource("6_7gnl4")
metadata/_custom_type_script = "uid://de7y5t12p5ii5"

[node name="Dashing" type="Node" parent="ChefStateManager"]
script = ExtResource("7_akdlw")

[node name="Jumping" type="Node" parent="ChefStateManager"]
script = ExtResource("31_g0qw0")

[node name="Falling" type="Node" parent="ChefStateManager"]
script = ExtResource("32_0djbx")

[node name="Hurt" type="Node" parent="ChefStateManager"]
script = ExtResource("40_6dtab")

[node name="Dead" type="Node" parent="ChefStateManager"]
script = ExtResource("41_1d1m7")

[connection signal="timeout" from="HealthController/HurtCooldownTimer" to="HealthController" method="_on_hurt_cooldown_timer_timeout"]
[connection signal="dash_interrupted" from="DashController" to="." method="_on_dash_controller_dash_interrupted"]
[connection signal="dash_start" from="DashController" to="." method="_on_dash_controller_dash_start"]
[connection signal="body_entered" from="Hitbox" to="." method="_on_hitbox_body_entered"]
